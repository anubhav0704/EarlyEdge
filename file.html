<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EarlyEdge - Merit Hiring Ecosystem</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .animate-pulse-slow { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes width { 0% { width: 0; } 50% { width: 100%; } 100% { width: 0; } }
        .loading-bar { animation: width 2s ease-in-out infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- MOCK DATA ---
        const MOCK_JOBS = [
            {
                id: 1,
                title: "Senior React Developer",
                company: "TechFlow Systems",
                location: "Remote (Bangalore)",
                salary: "‚Çπ25L - ‚Çπ40L",
                postedTime: new Date(Date.now() - 1000 * 60 * 2),
                isPremiumExclusive: true,
                recruiterScore: 98,
                recruiterOnline: true,
                tags: ["React", "Node.js", "AWS"],
                logo: "bg-blue-600"
            },
            {
                id: 2,
                title: "Product Designer (UI/UX)",
                company: "Creative Hib",
                location: "Mumbai",
                salary: "‚Çπ15L - ‚Çπ22L",
                postedTime: new Date(Date.now() - 1000 * 60 * 8),
                isPremiumExclusive: true,
                recruiterScore: 45,
                recruiterOnline: false,
                tags: ["Figma", "Prototyping"],
                logo: "bg-purple-600"
            },
            {
                id: 3,
                title: "Marketing Manager",
                company: "GrowthRocket",
                location: "Gurgaon",
                salary: "‚Çπ10L - ‚Çπ15L",
                postedTime: new Date(Date.now() - 1000 * 60 * 45),
                isPremiumExclusive: false,
                recruiterScore: 88,
                recruiterOnline: true,
                tags: ["SEO", "Content"],
                logo: "bg-green-600"
            }
        ];

        const MOCK_EXPERTS = [
            { id: 1, name: "Sarah Jenkins", role: "Staff Engineer @ Google", price: "‚Çπ2500", rating: 4.9, image: "SJ", bio: "Ex-Netflix. I help candidates crush the system design round." },
            { id: 2, name: "Michael Ross", role: "HR Manager @ Deloitte", price: "‚Çπ1500", rating: 4.8, image: "MR", bio: "I teach you exactly what HR looks for and how to negotiate salary." }
        ];

        const MOCK_SQUADS = [
            { id: 1, name: "React Rangers", members: ["Dev", "Dev", "Des"], status: "Looking for Backend Dev", avgScore: 92 },
            { id: 2, name: "Design Dynamos", members: ["Des", "Des"], status: "Open to Work", avgScore: 88 }
        ];

        const COLLEGE_LEADERBOARD = [
            { rank: 1, name: "IIT Bombay", score: 9850, trend: "+12%" },
            { rank: 2, name: "BITS Pilani", score: 9420, trend: "+5%" },
            { rank: 3, name: "Delhi Univ", score: 8900, trend: "-2%" },
        ];

        // --- COMPONENTS ---

        const Navbar = ({ activeTab, setActiveTab, userType }) => (
            <nav className="bg-white border-b border-gray-200 sticky top-0 z-50">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between h-16">
                        <div className="flex items-center">
                            <div className="flex-shrink-0 flex items-center gap-2">
                                <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold shadow-sm">E</div>
                                <span className="font-bold text-xl tracking-tight text-gray-900 hidden sm:block">EarlyEdge</span>
                            </div>
                            <div className="hidden md:ml-8 md:flex md:space-x-8">
                                {['jobs', 'experts', 'squads'].map((tab) => (
                                    <button key={tab} onClick={() => setActiveTab(tab)} className={${activeTab === tab ? 'border-blue-500 text-gray-900' : 'border-transparent text-gray-500 hover:text-gray-700'} capitalize inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium h-full transition-colors}>
                                        {tab}
                                    </button>
                                ))}
                            </div>
                        </div>
                        <div className="flex items-center gap-4">
                            <div className="flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-full">
                                <div className="h-2 w-2 rounded-full bg-green-500 animate-pulse"></div>
                                <span className="text-xs font-medium text-gray-600">Live</span>
                            </div>
                            <div className="relative cursor-pointer">
                                üîî
                                {userType === 'premium' && <span className="absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full border border-white"></span>}
                            </div>
                            <div className="h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold border border-indigo-200">JD</div>
                        </div>
                    </div>
                </div>
            </nav>
        );

        const Sidebar = ({ userType, onOpenAssessment }) => (
            <div className="w-full lg:w-72 flex-shrink-0 space-y-6">
                <div className="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                    <div className="flex items-center gap-3 mb-4">
                        <div className="h-12 w-12 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-lg">JD</div>
                        <div>
                            <h3 className="font-bold text-gray-900">John Doe</h3>
                            <p className="text-xs text-gray-500">Full Stack Dev</p>
                        </div>
                    </div>
                    
                    {userType === 'premium' ? (
                        <div className="bg-green-50 border border-green-200 rounded-lg p-3 flex flex-col gap-2 text-green-700 text-sm font-bold mb-4">
                            <div className="flex items-center gap-2">‚úÖ Verified Talent</div>
                            <p className="text-[10px] text-green-600 font-normal leading-tight">Early Access Active. You see jobs 10m before others.</p>
                        </div>
                    ) : (
                        <div className="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4">
                            <div className="flex items-center gap-2 mb-2 text-gray-900 font-bold text-sm">üß† Qualify for Premium</div>
                            <p className="text-xs text-gray-500 mb-3 leading-relaxed">Premium Early Access is restricted to candidates who pass our technical screening.</p>
                            <button onClick={onOpenAssessment} className="w-full py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2">
                                Take Skill Challenge
                            </button>
                        </div>
                    )}

                    <div className="border-t border-gray-100 pt-4 space-y-2">
                        <div className="flex justify-between text-sm"><span className="text-gray-500">Profile Views</span><span className="font-bold text-gray-900">42</span></div>
                        <div className="flex justify-between text-sm"><span className="text-gray-500">Applications</span><span className="font-bold text-gray-900">12</span></div>
                    </div>
                </div>

                <div className="bg-white p-5 rounded-xl border border-gray-200 shadow-sm">
                    <h4 className="font-bold text-gray-900 text-sm mb-3 flex items-center gap-2">üéì Top Colleges</h4>
                    <div className="space-y-3">
                        {COLLEGE_LEADERBOARD.map((c, i) => (
                            <div key={i} className="flex justify-between items-center text-sm">
                                <div className="flex items-center gap-2">
                                    <span className="text-gray-400 font-mono text-xs">{c.rank}</span>
                                    <span className="text-gray-700 font-medium">{c.name}</span>
                                </div>
                                <span className="text-green-600 text-xs font-bold">{c.trend}</span>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        const JobCard = ({ job, userType }) => {
            const isLocked = job.isPremiumExclusive && userType === 'free';
            const timeSincePosted = Math.floor((Date.now() - job.postedTime) / 60000);
            const minutesRemaining = 10 - timeSincePosted;

            return (
                <div className={relative bg-white rounded-xl border transition-all duration-300 ${isLocked ? 'border-gray-200 bg-gray-50 overflow-hidden' : 'border-gray-200 hover:shadow-md hover:border-blue-300'}}>
                    {isLocked && (
                        <div className="absolute inset-0 backdrop-blur-[2px] bg-white/60 z-10 flex flex-col items-center justify-center text-center p-6">
                            <div className="bg-white p-3 rounded-full shadow-lg mb-3">üîí</div>
                            <h3 className="text-base font-bold text-gray-900">Restricted Access</h3>
                            <p className="text-gray-500 text-sm mb-4">Posted {timeSincePosted}m ago. Locked for non-verified candidates.</p>
                            <div className="flex items-center gap-2 text-xs font-bold text-purple-600 bg-purple-50 px-3 py-1.5 rounded-full border border-purple-100">
                                üß† Pass Assessment to Unlock
                            </div>
                        </div>
                    )}

                    <div className={p-5 ${isLocked ? 'opacity-40 filter blur-[1px]' : ''}}>
                        {job.recruiterOnline && !isLocked && (
                            <div className="absolute top-4 right-4 flex items-center gap-1 bg-green-50 text-green-700 px-2 py-0.5 rounded-full text-[10px] font-bold border border-green-200">
                                <span className="relative flex h-1.5 w-1.5">
                                    <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                                    <span className="relative inline-flex rounded-full h-1.5 w-1.5 bg-green-500"></span>
                                </span>
                                Online
                            </div>
                        )}

                        <div className="flex gap-4 mb-3">
                            <div className={w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-sm ${job.logo}}>{job.company.charAt(0)}</div>
                            <div>
                                <h3 className="text-lg font-bold text-gray-900 leading-tight">{job.title}</h3>
                                <p className="text-gray-500 text-sm">{job.company} ‚Ä¢ {job.location}</p>
                            </div>
                        </div>

                        <div className="flex flex-wrap gap-2 mb-4">
                            <span className="px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-600">{job.salary}</span>
                            {job.tags.map(tag => <span key={tag} className="px-2 py-0.5 rounded text-xs font-medium bg-blue-50 text-blue-700">{tag}</span>)}
                        </div>

                        <div className="flex items-center justify-between pt-4 border-t border-gray-100">
                            <div className="flex items-center gap-1 text-sm text-gray-600">
                                <span className={job.recruiterScore > 90 ? 'text-green-500' : 'text-yellow-500'}>üìà</span>
                                <span className="font-medium">{job.recruiterScore}% Response Rate</span>
                            </div>
                            <button className="text-blue-600 text-sm font-bold hover:underline">Apply Now</button>
                        </div>
                    </div>
                </div>
            );
        };

        const AssessmentModal = ({ isOpen, onClose, onComplete }) => {
            const [step, setStep] = useState(0);

            useEffect(() => {
                if (isOpen && step === 1) {
                    const timer = setTimeout(() => setStep(2), 2000);
                    return () => clearTimeout(timer);
                }
                if (isOpen && step === 2) {
                    const timer = setTimeout(() => setStep(3), 2000);
                    return () => clearTimeout(timer);
                }
            }, [isOpen, step]);

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={onClose} />
                    <div className="relative bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden">
                        {step === 0 && (
                            <div className="p-8 text-center">
                                <div className="h-16 w-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6 text-2xl">üß†</div>
                                <h2 className="text-2xl font-bold text-gray-900 mb-2">Skill Assessment</h2>
                                <p className="text-gray-500 text-sm mb-6">To unlock Early Access, you must prove your technical competence.</p>
                                <button onClick={() => setStep(1)} className="w-full py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-bold hover:shadow-lg transition-all">Start Challenge</button>
                            </div>
                        )}
                        {(step === 1 || step === 2) && (
                            <div className="p-8 text-center">
                                <div className="mb-6 relative">
                                    <div className="h-2 w-full bg-gray-100 rounded-full overflow-hidden">
                                        <div className="h-full bg-purple-600 loading-bar w-1/2"></div>
                                    </div>
                                </div>
                                <h3 className="text-lg font-bold text-gray-900 mb-2">{step === 1 ? "Running Test Cases..." : "AI Grading Submission..."}</h3>
                            </div>
                        )}
                        {step === 3 && (
                            <div className="p-8 text-center bg-gradient-to-b from-white to-green-50">
                                <div className="h-20 w-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-4xl">üèÜ</div>
                                <h2 className="text-2xl font-bold text-gray-900 mb-2">Assessment Passed!</h2>
                                <div className="text-4xl font-black text-green-600 mb-2">94<span className="text-lg text-gray-400 font-medium">/100</span></div>
                                <button onClick={onComplete} className="w-full py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-lg transition-all">Unlock Early Access Jobs</button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('jobs');
            const [userType, setUserType] = useState('free');
            const [isAssessmentOpen, setIsAssessmentOpen] = useState(false);

            const handleAssessmentComplete = () => {
                setUserType('premium');
                setIsAssessmentOpen(false);
            };

            return (
                <div className="min-h-screen bg-gray-50 pb-20 md:pb-10">
                    <Navbar activeTab={activeTab} setActiveTab={setActiveTab} userType={userType} />
                    
                    {/* Mobile Header */}
                    <div className="md:hidden bg-white px-4 py-3 sticky top-0 z-40 border-b border-gray-200 flex justify-between items-center">
                        <div className="flex items-center gap-2">
                            <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-sm">E</div>
                            <span className="font-bold text-lg text-gray-900">EarlyEdge</span>
                        </div>
                        <div className="flex items-center gap-3">
                            <span className={text-xs px-2 py-1 rounded-full font-bold ${userType === 'premium' ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-600'}}>
                                {userType === 'premium' ? 'Verified' : 'Basic'}
                            </span>
                            <span>üîî</span>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8">
                        <div className="flex flex-col lg:flex-row gap-8 items-start">
                            <Sidebar userType={userType} onOpenAssessment={() => setIsAssessmentOpen(true)} />

                            <main className="flex-1 min-w-0 w-full">
                                {activeTab === 'jobs' && (
                                    <div className="space-y-6">
                                        {userType === 'free' && (
                                            <div className="bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-6 text-white shadow-lg flex flex-col sm:flex-row items-center justify-between gap-4">
                                                <div>
                                                    <h3 className="font-bold text-xl mb-2">Prove Your Skill. Unlock Access. üöÄ</h3>
                                                    <p className="text-blue-100 text-sm leading-relaxed max-w-lg">Only verified candidates get to see jobs 10 minutes early.</p>
                                                </div>
                                                <button onClick={() => setIsAssessmentOpen(true)} className="w-full sm:w-auto bg-white text-blue-700 px-6 py-3 rounded-lg text-sm font-bold shadow-sm hover:bg-blue-50 transition-colors whitespace-nowrap">Start Assessment</button>
                                            </div>
                                        )}
                                        <div className="space-y-4">
                                            {MOCK_JOBS.map(job => <JobCard key={job.id} job={job} userType={userType} />)}
                                        </div>
                                    </div>
                                )}
                                {activeTab === 'experts' && (
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {MOCK_EXPERTS.map(expert => (
                                            <div key={expert.id} className="bg-white border border-gray-200 rounded-xl p-5">
                                                <div className="flex gap-4">
                                                    <div className="h-14 w-14 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-500 text-xl">{expert.image}</div>
                                                    <div>
                                                        <h3 className="font-bold text-gray-900">{expert.name}</h3>
                                                        <p className="text-sm text-blue-600 font-medium">{expert.role}</p>
                                                    </div>
                                                </div>
                                                <div className="mt-4 flex justify-between items-center">
                                                    <span className="font-bold">{expert.price}</span>
                                                    <button className="bg-gray-900 text-white px-3 py-1.5 rounded text-xs">Book</button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </main>
                        </div>
                    </div>

                    {/* Mobile Bottom Nav */}
                    <div className="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 flex justify-around py-3">
                        {['jobs', 'experts', 'squads'].map(tab => (
                            <button key={tab} onClick={() => setActiveTab(tab)} className={flex flex-col items-center gap-1 ${activeTab === tab ? 'text-blue-600' : 'text-gray-400'}}>
                                <span className="text-lg">{tab === 'jobs' ? 'üíº' : tab === 'experts' ? 'üìπ' : 'üë•'}</span>
                                <span className="text-[10px] capitalize font-medium">{tab}</span>
                            </button>
                        ))}
                    </div>

                    <AssessmentModal isOpen={isAssessmentOpen} onClose={() => setIsAssessmentOpen(false)} onComplete={handleAssessmentComplete} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
